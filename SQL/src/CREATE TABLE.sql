
create schema "src";

CREATE TABLE src.foot_defensive_box (
    league_id              INT NOT NULL,       -- Added on insert from csv, 2 NFL, 5 CFB
    event_id               BIGINT NOT NULL,
    team_id                INT NOT NULL,
    team_abbr              VARCHAR(10),
    team_name              VARCHAR(100),
    athlete_id             BIGINT,
    athlete_name           VARCHAR(100),
    athlete_jersey         VARCHAR(10),
    totalTackles            INT,
    soloTackles             INT,
    sacks                   NUMERIC(4,1),
    tacklesForLoss          INT,
    passesDefended          INT,
    QBHits                  INT,
    defensiveTouchdowns     INT,
    interceptions           INT,
    interceptionYards       INT,
    interceptionTouchdowns  INT,
    foot_defensive_box_id  bigint GENERATED BY DEFAULT AS IDENTITY,
    PRIMARY KEY (league_id, event_id, team_id, athlete_id)
);


CREATE TABLE src.foot_offensive_box (
    league_id               INT NOT NULL,       -- Added on insert from csv, 2 NFL, 5 CFB
    event_id                BIGINT NOT NULL,
    team_id                 INT NOT NULL,
    team_abbr               VARCHAR(10),
    team_name               VARCHAR(100),
    athlete_id              BIGINT,
    athlete_name            VARCHAR(100),
    athlete_jersey          VARCHAR(10),
    passingYards            INT,
    yardsPerPassAttempt     NUMERIC(5,2),
    passingTouchdowns       INT,
    interceptions           INT,
    adjQBR                  NUMERIC(5,2),
    rushingAttempts         INT,
    rushingYards            INT,
    yardsPerRushAttempt     NUMERIC(5,2),
    rushingTouchdowns       INT,
    longRushing             INT,
    receptions              INT,
    receivingYards          INT,
    yardsPerReception       NUMERIC(5,2),
    receivingTouchdowns     INT,
    longReception           INT,
    receivingTargets        INT,
    QBRating                NUMERIC(5,2),
    passingCompletions      INT,
    passingAttempts         INT,
    sacks                   INT,
    sackYardsLost           INT,
    foot_offensive_box_id  bigint GENERATED BY DEFAULT AS IDENTITY,
    PRIMARY KEY (league_id, event_id, team_id, athlete_id)
);

CREATE TABLE src.foot_special_teams_box (
    league_id                  INT NOT NULL,       -- Added on insert from csv, 2 NFL, 5 CFB
    event_id                   BIGINT NOT NULL,
    team_id                    INT NOT NULL,
    team_abbr                  VARCHAR(10),
    team_name                  VARCHAR(100),
    athlete_id                 BIGINT,
    athlete_name               VARCHAR(100),
    athlete_jersey             VARCHAR(10),
    kickReturns               INT,
    kickReturnYards          INT,
    yardsPerKickReturn      NUMERIC(5,2),
    longKickReturn           INT,
    kickReturnTouchdowns     INT,
    puntReturns                INT,
    puntReturnYards             INT,
    yardsPerPuntReturn          INT,
    longPuntReturn              INT,
    puntReturnTouchdowns        INT,
    fieldGoalPct             NUMERIC(5,2),
    longFieldGoalMade       INT,
    totalKickingPoints       INT,
    punts                      INT,
    puntYards                 INT,
    grossAvgPuntYards       NUMERIC(5,2),
    touchbacks                 INT,
    puntsInside20            INT,
    longPunt                  INT,
    xpSuccess                 INT,
    xpAttempts                INT,
    fgSuccess                 INT,
    fgAttempts                INT,
    foot_special_teams_box_id  bigint GENERATED BY DEFAULT AS IDENTITY,
    PRIMARY KEY (league_id, event_id, team_id, athlete_id)
);

CREATE TABLE src.foot_game_team_summary (
    league_id                 INT NOT NULL,       -- Added on insert from csv, 2 NFL, 5 CFB
    event_id                  BIGINT NOT NULL,
    gamedate                  TIMESTAMP,
    season                    INT,
    season_type               INT,
    gameweek                  INT,
    venue_full_name           VARCHAR(150),
    venue_city                VARCHAR(100),
    venue_state               VARCHAR(50),
    venue_zip                 VARCHAR(20),
    venue_country             VARCHAR(50),
    venue_grass               BOOLEAN,
    attendance                INT,
    status_type               VARCHAR(50),
    status_detail             VARCHAR(50),
    neutral_site              BOOLEAN,
    conference_competition    BOOLEAN,
    team_id                   INT NOT NULL,
    team_abbr                 VARCHAR(10),
    team_name                 VARCHAR(100),
    home_away                 VARCHAR(10),
    team_score                INT,
    spread                    NUMERIC(5,2),
    over_under                NUMERIC(5,2),
    firstDowns               INT,
    firstDownsPassing       INT,
    firstDownsRushing       INT,
    firstDownsPenalty       INT,
    totalOffensivePlays     INT,
    totalYards               INT,
    yardsPerPlay            NUMERIC(5,2),
    totalDrives              INT,
    netPassingYards         INT,
    yardsPerPass            NUMERIC(5,2),
    interceptions             INT,
    rushingYards             INT,
    rushingAttempts          INT,
    yardsPerRushAttempt    NUMERIC(5,2),
    turnovers                 INT,
    fumblesLost              INT,
    defensiveTouchdowns      INT,
    possessionTime           INTERVAL,
    passingCompletions       INT,
    passingAttempts          INT,
    thirddownSuccess        INT,
    thirddownAttempts       INT,
    fourthdownSuccess       INT,
    fourthdownAttempts      INT,
    sacks                     INT,
    sackYardsLost           INT,
    redZoneSuccess          NUMERIC(5,2),
    penalties                 INT,
    PenaltyYards             INT,
    foot_game_team_summary_id  bigint GENERATED BY DEFAULT AS IDENTITY,
    PRIMARY KEY (league_id, event_id, team_id)
);